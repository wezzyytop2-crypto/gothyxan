<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rick Owens</title>
    <style>
        /* ===== MINIMALIST RICK OWENS STYLE ===== */
        :root {
            --black: #000;
            --white: #fff;
            --gray: #f5f5f5;
            --dark-gray: #222;
            --light-gray: #eee;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background-color: var(--white);
            color: var(--black);
            min-height: 100vh;
            position: relative;
        }
        
        /* ===== ADMIN PANEL (HIDDEN FROM MAIN SITE) ===== */
        /* No admin button visible on main site */
        
        /* Admin login page styles */
        .admin-page {
            display: none;
            min-height: 100vh;
            background: var(--white);
        }
        
        .admin-login-container {
            max-width: 400px;
            margin: 100px auto;
            padding: 0 20px;
            text-align: center;
        }
        
        .admin-logo {
            font-size: 11px;
            letter-spacing: 4px;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 50px;
        }
        
        .admin-login-form {
            padding: 50px 0;
        }
        
        .admin-login-form h2 {
            font-weight: 300;
            font-size: 24px;
            letter-spacing: 3px;
            margin-bottom: 40px;
            text-transform: uppercase;
        }
        
        .admin-login-form input {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--light-gray);
            font-size: 14px;
            letter-spacing: 1px;
            background: transparent;
        }
        
        .admin-login-form button {
            width: 100%;
            padding: 14px;
            background: var(--black);
            color: var(--white);
            border: none;
            font-size: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            transition: opacity 0.3s;
        }
        
        .admin-login-form button:hover {
            opacity: 0.9;
        }
        
        .back-to-site {
            margin-top: 30px;
            font-size: 11px;
            letter-spacing: 2px;
            color: #999;
            text-decoration: none;
            display: inline-block;
        }
        
        /* Admin Panel Styles */
        .admin-panel {
            display: none;
            min-height: 100vh;
            background: var(--white);
        }
        
        .admin-header {
            padding: 30px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-header h2 {
            font-weight: 300;
            font-size: 18px;
            letter-spacing: 3px;
            text-transform: uppercase;
        }
        
        .admin-logout {
            background: transparent;
            border: none;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            color: #999;
        }
        
        .admin-tabs {
            display: flex;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .admin-tab {
            padding: 20px 30px;
            background: transparent;
            border: none;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        
        .admin-tab.active {
            border-bottom: 2px solid var(--black);
        }
        
        .admin-content {
            padding: 40px;
        }
        
        .admin-section {
            display: none;
        }
        
        .admin-section.active {
            display: block;
        }
        
        /* ===== MAIN WEBSITE STYLES ===== */
        .main-site {
            display: block;
        }
        
        .main-header {
            text-align: center;
            padding: 60px 20px 40px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .brand-title {
            font-size: 11px;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-bottom: 10px;
            color: #666;
        }
        
        .page-title {
            font-weight: 300;
            font-size: 34px;
            letter-spacing: 2px;
            margin-bottom: 30px;
            text-transform: uppercase;
        }
        
        .collection-subtitle {
            font-size: 13px;
            letter-spacing: 2px;
            color: #999;
            text-transform: uppercase;
        }
        
        /* ===== PRODUCTS GRID ===== */
        .products-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 20px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 50px;
            padding: 0 20px;
        }
        
        .product-card {
            position: relative;
            overflow: hidden;
        }
        
        .product-image-container {
            width: 100%;
            height: 500px;
            overflow: hidden;
            margin-bottom: 25px;
            background: var(--gray);
            position: relative;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-info {
            text-align: center;
            padding: 0 10px;
        }
        
        .product-brand {
            font-size: 10px;
            letter-spacing: 3px;
            color: #777;
            text-transform: uppercase;
            margin-bottom: 8px;
        }
        
        .product-name {
            font-size: 16px;
            font-weight: 400;
            margin-bottom: 10px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        
        .product-price {
            font-size: 15px;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }
        
        .product-code {
            font-size: 11px;
            color: #aaa;
            letter-spacing: 1px;
            margin-bottom: 25px;
        }
        
        .add-to-cart-btn {
            width: 100%;
            padding: 16px;
            background: var(--black);
            color: var(--white);
            border: 1px solid var(--black);
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .add-to-cart-btn:hover {
            background: transparent;
            color: var(--black);
        }
        
        /* Add Product Form */
        .add-product-form {
            max-width: 600px;
        }
        
        .form-group {
            margin-bottom: 30px;
        }
        
        .form-group label {
            display: block;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 10px;
            color: #666;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--light-gray);
            font-size: 14px;
            background: transparent;
        }
        
        .image-upload-area {
            border: 2px dashed var(--light-gray);
            padding: 40px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        .image-upload-area:hover {
            border-color: #999;
        }
        
        .admin-btn-primary {
            padding: 16px 40px;
            background: var(--black);
            color: var(--white);
            border: none;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            transition: opacity 0.3s;
        }
        
        .admin-btn-primary:hover {
            opacity: 0.9;
        }
        
        /* Users Table */
        .users-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .users-table th {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #666;
            font-weight: 400;
        }
        
        .users-table td {
            padding: 15px;
            border-bottom: 1px solid var(--light-gray);
            font-size: 13px;
        }
        
        /* Admin Products Grid */
        .admin-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .admin-product-card {
            border: 1px solid var(--light-gray);
            padding: 20px;
        }
        
        .admin-product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            margin-bottom: 15px;
        }
        
        .admin-delete-btn {
            width: 100%;
            padding: 10px;
            background: transparent;
            color: #ff4444;
            border: 1px solid #ff4444;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .admin-delete-btn:hover {
            background: #ff4444;
            color: white;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--black);
            color: var(--white);
            padding: 15px 30px;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            z-index: 1003;
            display: none;
        }
        
        .notification.show {
            display: block;
            animation: fadeInOut 3s ease;
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            20%, 80% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: 1fr;
                gap: 40px;
                padding: 0 10px;
            }
            
            .product-image-container {
                height: 400px;
            }
            
            .page-title {
                font-size: 28px;
            }
            
            .admin-content {
                padding: 20px;
            }
            
            .admin-products-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Main Website (visible by default) -->
    <div class="main-site" id="mainSite">
        <header class="main-header">
            <div class="brand-title">RICK OWENS</div>
            <h1 class="page-title">Collection</h1>
            <div class="collection-subtitle">Fall Winter 2024</div>
        </header>
        
        <main class="products-container">
            <div class="products-grid" id="productsGrid">
                <!-- Products will load here dynamically -->
            </div>
        </main>
    </div>
    
    <!-- Admin Login Page (hidden by default) -->
    <div class="admin-page" id="adminLoginPage">
        <div class="admin-login-container">
            <div class="admin-logo">RICK OWENS ADMIN</div>
            <div class="admin-login-form">
                <h2>Admin Login</h2>
                <input type="text" id="adminUsername" placeholder="USERNAME">
                <input type="password" id="adminPassword" placeholder="PASSWORD">
                <button onclick="adminLogin()">LOGIN</button>
                <a href="/" class="back-to-site">← Back to Site</a>
            </div>
        </div>
    </div>
    
    <!-- Admin Panel (hidden by default) -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2>Admin Panel</h2>
            <button class="admin-logout" onclick="logoutAdmin()">LOGOUT</button>
        </div>
        
        <div class="admin-tabs">
            <button class="admin-tab active" onclick="showAdminTab('products')">Products</button>
            <button class="admin-tab" onclick="showAdminTab('add')">Add Product</button>
            <button class="admin-tab" onclick="showAdminTab('activity')">Activity</button>
        </div>
        
        <div class="admin-content">
            <!-- Products Management -->
            <div class="admin-section active" id="productsTab">
                <h3 style="margin-bottom: 30px; font-weight: 300; letter-spacing: 2px;">MANAGE PRODUCTS</h3>
                <div id="adminProductsGrid" class="admin-products-grid">
                    <!-- Admin products will load here -->
                </div>
            </div>
            
            <!-- Add Product -->
            <div class="admin-section" id="addTab">
                <h3 style="margin-bottom: 30px; font-weight: 300; letter-spacing: 2px;">ADD NEW PRODUCT</h3>
                <div class="add-product-form">
                    <div class="form-group">
                        <label>Product Name</label>
                        <input type="text" id="productName" placeholder="e.g., Rick Owens Hoodie">
                    </div>
                    
                    <div class="form-group">
                        <label>Product Code</label>
                        <input type="text" id="productCode" placeholder="e.g., 6680 306">
                    </div>
                    
                    <div class="form-group">
                        <label>Price ($)</label>
                        <input type="number" id="productPrice" placeholder="450">
                    </div>
                    
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="productDescription" placeholder="Product description" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Sizes (comma separated)</label>
                        <input type="text" id="productSizes" placeholder="S, M, L, XL">
                    </div>
                    
                    <div class="form-group">
                        <label>Product Image</label>
                        <div class="image-upload-area" onclick="document.getElementById('imageInput').click()">
                            <p style="color: #999; font-size: 13px;">CLICK TO UPLOAD IMAGE</p>
                            <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                            <input type="text" id="imageUrl" placeholder="Or paste image URL" style="width: 100%; margin-top: 10px; padding: 10px; border: 1px solid #eee;">
                            <img id="imagePreview" style="max-width: 200px; margin-top: 20px; display: none;">
                        </div>
                    </div>
                    
                    <button class="admin-btn-primary" onclick="addProduct()">ADD PRODUCT</button>
                </div>
            </div>
            
            <!-- User Activity -->
            <div class="admin-section" id="activityTab">
                <h3 style="margin-bottom: 30px; font-weight: 300; letter-spacing: 2px;">USER ACTIVITY</h3>
                <table class="users-table">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Action</th>
                            <th>Product</th>
                            <th>Time</th>
                            <th>IP</th>
                        </tr>
                    </thead>
                    <tbody id="userActivityTable">
                        <!-- Activity logs will load here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Database
        const DB = {
            products: JSON.parse(localStorage.getItem('rick_owens_products')) || [
                {
                    id: 1,
                    name: "Rick Owens Hoodie",
                    brand: "RICKOWENS",
                    code: "6680 306",
                    price: 450,
                    description: "Black hoodie with signature Rick Owens design",
                    sizes: ["S", "M", "L", "XL"],
                    image: "https://images.unsplash.com/photo-1556821840-3a63f95609a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                },
                {
                    id: 2,
                    name: "Crew Neck Pullover",
                    brand: "RICKOWENS",
                    code: "6680 307",
                    price: 380,
                    description: "Minimalist crew neck pullover",
                    sizes: ["M", "L", "XL"],
                    image: "https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                }
            ],
            
            userActivity: JSON.parse(localStorage.getItem('user_activity')) || [],
            
            saveProducts() {
                localStorage.setItem('rick_owens_products', JSON.stringify(this.products));
            },
            
            saveActivity() {
                localStorage.setItem('user_activity', JSON.stringify(this.userActivity));
            },
            
            addProduct(product) {
                product.id = this.products.length > 0 ? Math.max(...this.products.map(p => p.id)) + 1 : 1;
                product.brand = "RICKOWENS";
                product.createdAt = new Date().toISOString();
                this.products.push(product);
                this.saveProducts();
                return product;
            },
            
            logActivity(action, productName) {
                const activity = {
                    id: this.userActivity.length + 1,
                    userId: localStorage.getItem('user_id') || 'guest_' + Math.random().toString(36).substr(2, 6),
                    action: action,
                    product: productName,
                    timestamp: new Date().toLocaleString(),
                    ip: '192.168.' + Math.floor(Math.random() * 255) + '.' + Math.floor(Math.random() * 255)
                };
                this.userActivity.push(activity);
                this.saveActivity();
                if (document.getElementById('activityTab').classList.contains('active')) {
                    loadUserActivity();
                }
            }
        };

        // URL Router
        function handleRoute() {
            const path = window.location.pathname;
            
            // Hide all sections first
            document.getElementById('mainSite').style.display = 'none';
            document.getElementById('adminLoginPage').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'none';
            
            if (path === '/' || path === '/index.html') {
                // Main website
                document.getElementById('mainSite').style.display = 'block';
                loadProducts();
                
                // Generate user ID if not exists
                if (!localStorage.getItem('user_id')) {
                    localStorage.setItem('user_id', 'user_' + Math.random().toString(36).substr(2, 9));
                }
                
                // Log page view
                DB.logActivity('Page View', 'Homepage');
                
            } else if (path === '/admin') {
                // Admin login page
                document.getElementById('adminLoginPage').style.display = 'block';
                
                // Check if already logged in
                if (localStorage.getItem('admin_logged_in') === 'true') {
                    showAdminPanel();
                }
                
            } else {
                // Redirect to main site for unknown routes
                window.location.href = '/';
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            handleRoute();
            
            // Handle browser back/forward buttons
            window.addEventListener('popstate', handleRoute);
        });

        // Admin Functions
        function adminLogin() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            if (username === 'mellory' && password === '45oponof') {
                // Set logged in flag
                localStorage.setItem('admin_logged_in', 'true');
                
                // Show admin panel
                showAdminPanel();
                
                // Update URL without reload
                history.pushState({}, '', '/admin');
                
                DB.logActivity('Admin Login', 'System');
                showNotification('ADMIN LOGIN SUCCESSFUL');
            } else {
                showNotification('INVALID CREDENTIALS');
            }
        }

        function showAdminPanel() {
            document.getElementById('adminLoginPage').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            loadAdminProducts();
            loadUserActivity();
        }

        function logoutAdmin() {
            localStorage.removeItem('admin_logged_in');
            window.location.href = '/';
        }

        function showAdminTab(tabName) {
            // Update tabs
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show content
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Load data for the tab if needed
            if (tabName === 'activity') {
                loadUserActivity();
            }
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('imagePreview');
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    document.getElementById('imageUrl').value = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function addProduct() {
            const product = {
                name: document.getElementById('productName').value,
                code: document.getElementById('productCode').value,
                price: parseFloat(document.getElementById('productPrice').value) || 0,
                description: document.getElementById('productDescription').value,
                sizes: document.getElementById('productSizes').value.split(',').map(s => s.trim()),
                image: document.getElementById('imageUrl').value || 'https://images.unsplash.com/photo-1556821840-3a63f95609a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'
            };

            if (!product.name || !product.code) {
                showNotification('PLEASE FILL REQUIRED FIELDS');
                return;
            }

            DB.addProduct(product);
            loadProducts(); // Update main site
            loadAdminProducts(); // Update admin panel
            
            // Clear form
            document.getElementById('productName').value = '';
            document.getElementById('productCode').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productDescription').value = '';
            document.getElementById('productSizes').value = '';
            document.getElementById('imageUrl').value = '';
            document.getElementById('imagePreview').style.display = 'none';
            
            showNotification('PRODUCT ADDED SUCCESSFULLY');
            showAdminTab('products');
            DB.logActivity('Product Added', product.name);
        }

        function deleteProduct(productId) {
            if (confirm('Delete this product?')) {
                const product = DB.products.find(p => p.id === productId);
                DB.products = DB.products.filter(p => p.id !== productId);
                DB.saveProducts();
                loadProducts(); // Update main site
                loadAdminProducts(); // Update admin panel
                showNotification('PRODUCT DELETED');
                if (product) {
                    DB.logActivity('Product Deleted', product.name);
                }
            }
        }

        // Load Functions
        function loadProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            DB.products.forEach(product => {
                const productCard = `
                    <div class="product-card">
                        <div class="product-image-container">
                            <img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1556821840-3a63f95609a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'">
                        </div>
                        <div class="product-info">
                            <div class="product-brand">${product.brand}</div>
                            <h2 class="product-name">${product.name}</h2>
                            <div class="product-price">$${product.price}</div>
                            <div class="product-code">${product.code}</div>
                            <button class="add-to-cart-btn" onclick="addToCart(${product.id})">ADD TO CART</button>
                        </div>
                    </div>
                `;
                grid.innerHTML += productCard;
            });
        }

        function loadAdminProducts() {
            const grid = document.getElementById('adminProductsGrid');
            grid.innerHTML = '';
            
            DB.products.forEach(product => {
                const productCard = `
                    <div class="admin-product-card">
                        <img src="${product.image}" alt="${product.name}" class="admin-product-image">
                        <div style="font-size: 12px; margin-bottom: 5px;">${product.brand}</div>
                        <div style="font-size: 14px; font-weight: 500; margin-bottom: 5px;">${product.name}</div>
                        <div style="font-size: 12px; color: #666; margin-bottom: 5px;">$${product.price} • ${product.code}</div>
                        <div style="font-size: 11px; color: #999; margin-bottom: 10px;">Sizes: ${product.sizes.join(', ')}</div>
                        <button class="admin-delete-btn" onclick="deleteProduct(${product.id})">DELETE</button>
                    </div>
                `;
                grid.innerHTML += productCard;
            });
        }

        function loadUserActivity() {
            const table = document.getElementById('userActivityTable');
            table.innerHTML = '';
            
            // Show last 20 activities
            DB.userActivity.slice(-20).reverse().forEach(activity => {
                const row = `
                    <tr>
                        <td>${activity.userId.substring(0, 8)}...</td>
                        <td>${activity.action}</td>
                        <td>${activity.product}</td>
                        <td>${activity.timestamp}</td>
                        <td>${activity.ip}</td>
                    </tr>
                `;
                table.innerHTML += row;
            });
        }

        // Shopping Cart
        function addToCart(productId) {
            const product = DB.products.find(p => p.id === productId);
            if (product) {
                DB.logActivity('Added to Cart', product.name);
                showNotification(`${product.name.toUpperCase()} ADDED TO CART`);
                
                // Add to cart
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity = (existingItem.quantity || 1) + 1;
                } else {
                    product.quantity = 1;
                    cart.push(product);
                }
                
                localStorage.setItem('cart', JSON.stringify(cart));
            }
        }

        // Notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Handle manual admin access
        function goToAdmin() {
            window.location.href = '/admin';
        }
        
        // Add this for testing - you can remove it later
        console.log('To access admin panel, go to: http://yoursite.com/admin');
        console.log('Username: mellory, Password: 45oponof');
    </script>
</body>
</html>