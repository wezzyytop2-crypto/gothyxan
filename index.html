<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rick Owens Collection</title>
    <style>
        /* ===== MINIMALIST RICK OWENS STYLE ===== */
        :root {
            --black: #000;
            --white: #fff;
            --gray: #f5f5f5;
            --dark-gray: #222;
            --light-gray: #eee;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background-color: var(--white);
            color: var(--black);
            min-height: 100vh;
        }
        
        /* ===== MAIN LAYOUT ===== */
        .main-header {
            text-align: center;
            padding: 60px 20px 40px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .brand-title {
            font-size: 11px;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-bottom: 10px;
            color: #666;
        }
        
        .page-title {
            font-weight: 300;
            font-size: 34px;
            letter-spacing: 2px;
            margin-bottom: 30px;
            text-transform: uppercase;
        }
        
        .collection-subtitle {
            font-size: 13px;
            letter-spacing: 2px;
            color: #999;
            text-transform: uppercase;
        }
        
        /* ===== PRODUCTS GRID ===== */
        .products-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 20px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 50px;
            padding: 0 20px;
        }
        
        .product-card {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-image-container {
            width: 100%;
            height: 500px;
            overflow: hidden;
            margin-bottom: 25px;
            background: var(--gray);
            position: relative;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-info {
            text-align: center;
            padding: 0 10px;
        }
        
        .product-brand {
            font-size: 10px;
            letter-spacing: 3px;
            color: #777;
            text-transform: uppercase;
            margin-bottom: 8px;
        }
        
        .product-name {
            font-size: 16px;
            font-weight: 400;
            margin-bottom: 10px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        
        .product-price {
            font-size: 15px;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }
        
        .product-code {
            font-size: 11px;
            color: #aaa;
            letter-spacing: 1px;
            margin-bottom: 25px;
        }
        
        .add-to-cart-btn {
            width: 100%;
            padding: 16px;
            background: var(--black);
            color: var(--white);
            border: 1px solid var(--black);
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .add-to-cart-btn:hover {
            background: transparent;
            color: var(--black);
        }
        
        /* ===== NOTIFICATION ===== */
        .notification {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--black);
            color: var(--white);
            padding: 15px 30px;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            z-index: 1000;
            display: none;
        }
        
        .notification.show {
            display: block;
            animation: fadeInOut 3s ease;
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            20%, 80% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: 1fr;
                gap: 40px;
                padding: 0 10px;
            }
            
            .product-image-container {
                height: 400px;
            }
            
            .page-title {
                font-size: 28px;
            }
            
            .main-header {
                padding: 40px 20px 30px;
            }
        }
        
        @media (max-width: 480px) {
            .product-image-container {
                height: 350px;
            }
            
            .page-title {
                font-size: 24px;
            }
            
            .brand-title {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Main Website -->
    <header class="main-header">
        <div class="brand-title">RICK OWENS</div>
        <h1 class="page-title">Collection</h1>
        <div class="collection-subtitle">Fall Winter 2024</div>
    </header>
    
    <main class="products-container">
        <div class="products-grid" id="productsGrid">
            <!-- Products will load here dynamically -->
        </div>
    </main>
    
    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // ===== DATABASE (LOCALSTORAGE) =====
        const DB = {
            // Get products from localStorage or use defaults
            get products() {
                const saved = localStorage.getItem('rick_owens_products');
                if (saved) {
                    return JSON.parse(saved);
                }
                
                // Default products
                return [
                    {
                        id: 1,
                        name: "Rick Owens Hoodie",
                        brand: "RICKOWENS",
                        code: "6680 306",
                        price: 450,
                        description: "Black hoodie with signature Rick Owens design",
                        sizes: ["S", "M", "L", "XL"],
                        image: "https://images.unsplash.com/photo-1556821840-3a63f95609a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    },
                    {
                        id: 2,
                        name: "Crew Neck Pullover",
                        brand: "RICKOWENS",
                        code: "6680 307",
                        price: 380,
                        description: "Minimalist crew neck pullover",
                        sizes: ["M", "L", "XL"],
                        image: "https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    },
                    {
                        id: 3,
                        name: "Leather Jacket",
                        brand: "RICKOWENS",
                        code: "6680 308",
                        price: 1200,
                        description: "Signature leather jacket",
                        sizes: ["S", "M", "L"],
                        image: "https://images.unsplash.com/photo-1551028719-00167b16eac5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    },
                    {
                        id: 4,
                        name: "Cargo Pants",
                        brand: "RICKOWENS",
                        code: "6680 309",
                        price: 550,
                        description: "Oversized cargo pants",
                        sizes: ["S", "M", "L", "XL"],
                        image: "https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    }
                ];
            },
            
            // Save cart to localStorage
            saveCart(cart) {
                localStorage.setItem('rick_owens_cart', JSON.stringify(cart));
            },
            
            // Get cart from localStorage
            get cart() {
                return JSON.parse(localStorage.getItem('rick_owens_cart')) || [];
            }
        };

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            
            // Generate user ID if not exists (for tracking)
            if (!localStorage.getItem('user_id')) {
                localStorage.setItem('user_id', 'user_' + Math.random().toString(36).substr(2, 9));
            }
            
            // Log page view
            logActivity('Page View', 'Homepage');
        });

        // ===== LOAD PRODUCTS =====
        function loadProducts() {
            const grid = document.getElementById('productsGrid');
            const products = DB.products;
            
            if (!products || products.length === 0) {
                grid.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: #999; padding: 40px;">No products available</p>';
                return;
            }
            
            let html = '';
            products.forEach(product => {
                html += `
                    <div class="product-card">
                        <div class="product-image-container">
                            <img src="${product.image}" alt="${product.name}" class="product-image" 
                                 onerror="this.src='https://images.unsplash.com/photo-1556821840-3a63f95609a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'">
                        </div>
                        <div class="product-info">
                            <div class="product-brand">${product.brand}</div>
                            <h2 class="product-name">${product.name}</h2>
                            <div class="product-price">$${product.price}</div>
                            <div class="product-code">${product.code}</div>
                            <button class="add-to-cart-btn" onclick="addToCart(${product.id})">ADD TO CART</button>
                        </div>
                    </div>
                `;
            });
            
            grid.innerHTML = html;
        }

        // ===== SHOPPING CART =====
        function addToCart(productId) {
            const product = DB.products.find(p => p.id === productId);
            if (!product) {
                showNotification('Product not found', 'error');
                return;
            }
            
            // Get current cart
            let cart = DB.cart;
            
            // Check if product already in cart
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity = (existingItem.quantity || 1) + 1;
            } else {
                product.quantity = 1;
                cart.push(product);
            }
            
            // Save cart
            DB.saveCart(cart);
            
            // Log activity
            logActivity('Added to Cart', product.name);
            
            // Show notification
            showNotification(`${product.name.toUpperCase()} ADDED TO CART`);
            
            // Update cart count in UI if exists
            updateCartCount();
        }

        function updateCartCount() {
            const cart = DB.cart;
            const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
            
            // Update cart count element if exists
            const cartCountEl = document.getElementById('cartCount');
            if (cartCountEl) {
                cartCountEl.textContent = totalItems;
                cartCountEl.style.display = totalItems > 0 ? 'flex' : 'none';
            }
        }

        // ===== ACTIVITY LOGGING =====
        function logActivity(action, productName) {
            // Get existing activities or create new array
            let activities = JSON.parse(localStorage.getItem('user_activities')) || [];
            
            const activity = {
                id: activities.length + 1,
                userId: localStorage.getItem('user_id') || 'guest',
                action: action,
                product: productName,
                timestamp: new Date().toISOString(),
                time: new Date().toLocaleTimeString(),
                date: new Date().toLocaleDateString()
            };
            
            activities.push(activity);
            
            // Keep only last 100 activities
            if (activities.length > 100) {
                activities = activities.slice(-100);
            }
            
            localStorage.setItem('user_activities', JSON.stringify(activities));
        }

        // ===== NOTIFICATION =====
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // ===== UTILITY FUNCTIONS =====
        function formatPrice(price) {
            return '$' + price.toFixed(2);
        }
        
        // Optional: Add cart icon to header
        function addCartIcon() {
            const header = document.querySelector('.main-header');
            const cartIcon = `
                <div style="position: absolute; top: 20px; right: 20px;">
                    <a href="#" onclick="viewCart()" style="text-decoration: none; color: #000; position: relative;">
                        <span style="font-size: 24px;">ðŸ›’</span>
                        <span id="cartCount" style="
                            position: absolute;
                            top: -8px;
                            right: -8px;
                            background: #000;
                            color: #fff;
                            border-radius: 50%;
                            width: 20px;
                            height: 20px;
                            display: none;
                            align-items: center;
                            justify-content: center;
                            font-size: 10px;
                        ">0</span>
                    </a>
                </div>
            `;
            header.style.position = 'relative';
            header.insertAdjacentHTML('beforeend', cartIcon);
            updateCartCount();
        }
        
        // Optional: View cart function
        function viewCart() {
            const cart = DB.cart;
            if (cart.length === 0) {
                alert('Your cart is empty');
                return;
            }
            
            let cartContent = 'YOUR CART:\n\n';
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * (item.quantity || 1);
                total += itemTotal;
                cartContent += `${item.name} - $${item.price} x ${item.quantity || 1} = $${itemTotal}\n`;
            });
            
            cartContent += `\nTOTAL: $${total}`;
            alert(cartContent);
        }
        
        // Uncomment to add cart icon:
        // addCartIcon();
    </script>
</body>
</html>