<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHOP — GOTYXAN-PRO</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <span>GOTYXAN</span><span>-PRO</span>
            </a>
            <ul class="nav-menu">
                <li><a href="index.html">HOME</a></li>
                <li><a href="shop.html" class="active">SHOP</a></li>
                <li><a href="cart.html">CART <span class="cart-count">0</span></a></li>
                <li><a href="checkout.html">CHECKOUT</a></li>
                <li><a href="about.html">ABOUT</a></li>
            </ul>
        </div>
    </nav>

    <section class="shop-section">
        <div class="container">
            <h2 class="section-title">COLLECTION</h2>
            
            <div class="shop-content">
                
                <div class="filter-tabs">
                    <button class="filter-tab active" data-brand="all" onclick="filterProducts('all')">ALL BRANDS</button>
                    <button class="filter-tab" data-brand="rick" onclick="filterProducts('rick')">RICK OWENS</button>
                    <button class="filter-tab" data-brand="balenciaga" onclick="filterProducts('balenciaga')">BALENCIAGA</button>
                    <button class="filter-tab" data-brand="margiela" onclick="filterProducts('margiela')">MAISON MARGIELA</button>
                    <button class="filter-tab" data-brand="ann" onclick="filterProducts('ann')">ANN DEMEULEMEESTER</button>
                    <button class="filter-tab" data-brand="yohji" onclick="filterProducts('yohji')">YOHJI YAMAMOTO</button>
                    <button class="filter-tab" data-brand="raf" onclick="filterProducts('raf')">RAF SIMONS</button>
                </div>

                <div class="horizontal-category-menu" id="category-menu" style="display: none;">
                    <h3 class="category-menu-title">CATEGORIES</h3>
                    <ul class="category-filter-list">
                        <li><a href="#" class="category-tab active" data-category="all" onclick="filterByCategory('all')">ALL PRODUCTS</a></li>
                        
                        <li class="has-children">
                            <a href="#" class="category-tab" data-category="clothing" onclick="filterByCategory('clothing')">CLOTHING</a>
                            <ul class="sub-category-list">
                                <li><a href="#" class="category-tab" data-category="clothing-mens" onclick="filterByCategory('clothing-mens')">Men's</a></li>
                                <li><a href="#" class="category-tab" data-category="clothing-womens" onclick="filterByCategory('clothing-womens')">Women's</a></li>
                            </ul>
                        </li>
                        
                        <li class="has-children">
                            <a href="#" class="category-tab" data-category="footwear" onclick="filterByCategory('footwear')">FOOTWEAR</a>
                            <ul class="sub-category-list">
                                <li><a href="#" class="category-tab" data-category="footwear-mens" onclick="filterByCategory('footwear-mens')">Men's</a></li>
                                <li><a href="#" class="category-tab" data-category="footwear-womens" onclick="filterByCategory('footwear-womens')">Women's</a></li>
                            </ul>
                        </li>
                        
                        <li><a href="#" class="category-tab" data-category="accessories" onclick="filterByCategory('accessories')">ACCESSORIES</a></li>
                    </ul>
                </div>

                <div class="products-grid" id="products-grid">
                    
                    <a href="product.html?id=1" class="product-card" data-brand="rick" data-category="clothing" data-gender="mens">
                        <img src="https://cdn.whatsonthestar.com/uploads/1700683471450.png" alt="Rick Owens Leather Tee" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">RICK OWENS</p>
                            <h3 class="product-name">LEATHER T-SHIRT BLACK</h3>
                            <p class="product-price">€110</p>
                        </div>
                    </a>

                    <a href="product.html?id=2" class="product-card" data-brand="rick" data-category="clothing" data-gender="womens">
                        <img src="https://i.ebayimg.com/images/g/pQYAAOSwtZhlhlrc/s-l1200.jpg" alt="Rick Owens Hoodie" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">RICK OWENS</p>
                            <h3 class="product-name">DRKSHDW SWEATSHIRT</h3>
                            <p class="product-price"><span>€680</span> €155</p>
                        </div>
                    </a>

                    <a href="product.html?id=3" class="product-card" data-brand="rick" data-category="footwear" data-gender="mens">
                        <img src="https://cdn-images.farfetch-contents.com/18/47/12/66/18471266_41548022_1000.jpg" alt="Rick Owens Boots" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">RICK OWENS</p>
                            <h3 class="product-name">GETH BOOTS LEATHER</h3>
                            <p class="product-price">€245</p>
                        </div>
                    </a>

                    <a href="product.html?id=4" class="product-card" data-brand="balenciaga" data-category="footwear" data-gender="womens">
                        <img src="https://avatars.mds.yandex.net/i?id=25dde95eefb31ea6e237ce125b07d2cf_l-2918686-images-thumbs&n=13" alt="Balenciaga Track" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">BALENCIAGA</p>
                            <h3 class="product-name">TRACK 2 SNEAKERS</h3>
                            <p class="product-price"><span>€440</span> €195</p>
                        </div>
                    </a>

                    <a href="product.html?id=5" class="product-card" data-brand="balenciaga" data-category="clothing" data-gender="mens">
                        <img src="https://cdn-images.farfetch-contents.com/21/89/69/33/21896933_51688724_1000.jpg" alt="Balenciaga Jacket" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">BALENCIAGA</p>
                            <h3 class="product-name">OVERSIZED DENIM JACKET</h3>
                            <p class="product-price"><span>€1,250</span> €563</p>
                        </div>
                    </a>

                    <a href="product.html?id=6" class="product-card" data-brand="balenciaga" data-category="accessories" data-gender="womens">
                        <img src="https://avatars.mds.yandex.net/i?id=abcaee7ff75b26161f78717672e4f584_l-16477287-images-thumbs&n=13 v=1" alt="Balenciaga Bag" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">BALENCIAGA</p>
                            <h3 class="product-name">HOURGLASS BAG BLACK</h3>
                            <p class="product-price"><span>€1,450</span> €653</p>
                        </div>
                    </a>

                    <a href="product.html?id=7" class="product-card" data-brand="margiela" data-category="footwear" data-gender="womens">
                        <img src="https://www.maisonmargiela.com/on/demandware.static/-/Sites-margielaEU-Library/default/dw9c67542e/images/22AW/MWM0124761-23A_1.jpg" alt="Margiela Tabi" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">MAISON MARGIELA</p>
                            <h3 class="product-name">TABI ANKLE BOOTS</h3>
                            <p class="product-price">€625</p>
                        </div>
                    </a>

                    <a href="product.html?id=8" class="product-card" data-brand="margiela" data-category="clothing" data-gender="womens">
                        <img src="https://www.maisonmargiela.com/on/demandware.static/-/Sites-margielaEU-Library/default/dwe5f3f50f/images/23SS/MMM0322861-000_1.jpg" alt="Margiela Blazer" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">MAISON MARGIELA</p>
                            <h3 class="product-name">DECONSTRUCTED BLAZER</h3>
                            <p class="product-price"><span>€1,150</span> €518</p>
                        </div>
                    </a>

                    <a href="product.html?id=9" class="product-card" data-brand="ann" data-category="footwear" data-gender="mens">
                        <img src="https://cdn.shopify.com/s/files/1/0266/5765/9343/products/ANNDEMEULEMEESTER_FW19_LACEBACKBOOTS_BLACK_1_1800x.jpg?v=1614296822" alt="Ann Demeulemeester Boots" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">ANN DEMEULEMEESTER</p>
                            <h3 class="product-name">LACE-UP LEATHER BOOTS</h3>
                            <p class="product-price"><span>€850</span> €383</p>
                        </div>
                    </a>

                    <a href="product.html?id=10" class="product-card" data-brand="ann" data-category="clothing" data-gender="womens">
                        <img src="https://cdn.shopify.com/s/files/1/0266/5765/9343/products/ANNDEMEULEMEESTER_SS20_SILKSHIRT_BLACK_1_1800x.jpg?v=1614296822" alt="Ann Demeulemeester Shirt" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">ANN DEMEULEMEESTER</p>
                            <h3 class="product-name">SILK SHIRT BLACK</h3>
                            <p class="product-price"><span>€620</span> €279</p>
                        </div>
                    </a>

                    <a href="product.html?id=11" class="product-card" data-brand="yohji" data-category="clothing" data-gender="mens">
                        <img src="https://cdn.shopify.com/s/files/1/0266/5765/9343/products/YOHJIYAMAMOTO_FW20_COAT_BLACK_1_1800x.jpg?v=1614296822" alt="Yohji Yamamoto Coat" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">YOHJI YAMAMOTO</p>
                            <h3 class="product-name">WOOL COAT BLACK</h3>
                            <p class="product-price"><span>€1,800</span> €810</p>
                        </div>
                    </a>

                    <a href="product.html?id=12" class="product-card" data-brand="raf" data-category="clothing" data-gender="mens">
                        <img src="https://cdn.shopify.com/s/files/1/0266/5765/9343/products/RAFSIMONS_FW20_SWEATER_BLACK_1_1800x.jpg?v=1614296822" alt="Raf Simons Sweater" class="product-image">
                        <div class="product-info">
                            <p class="product-brand">RAF SIMONS</p>
                            <h3 class="product-name">KNIT SWEATER BLACK</h3>
                            <p class="product-price"><span>€750</span> €338</p>
                        </div>
                    </a>
                </div>
            </div>
            
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>© 2024 GOTYXAN-PRO — BERLIN</p>
        </div>
    </footer>

    <script>
        // Global variables to store the current filter state
        let currentBrandFilter = 'all';
        let currentCategoryFilter = 'all';

        // --- 1. ФУНКЦИЯ ФИЛЬТРАЦИИ ПО БРЕНДУ ---
        function filterProducts(brand) {
            currentBrandFilter = brand;
            const categoryMenu = document.getElementById('category-menu');
            
            if (brand === 'all') {
                categoryMenu.style.display = 'none';
                currentCategoryFilter = 'all';
                document.querySelectorAll('.category-tab').forEach(tab => tab.classList.remove('active'));
                const allProductsLink = document.querySelector('.category-tab[data-category="all"]');
                if (allProductsLink) { allProductsLink.classList.add('active'); }
            } else {
                categoryMenu.style.display = 'block';
            }

            document.querySelectorAll('.filter-tab').forEach(tab => tab.classList.remove('active'));
            const activeBrandButton = document.querySelector(`.filter-tab[data-brand="${brand}"]`);
            if (activeBrandButton) { activeBrandButton.classList.add('active'); }
            
            applyFilters();
        }

        // --- 2. ФУНКЦИЯ ФИЛЬТРАЦИИ ПО КАТЕГОРИИ ---
        function filterByCategory(category) {
            currentCategoryFilter = category;
            
            document.querySelectorAll('.category-tab').forEach(tab => tab.classList.remove('active'));
            const activeCategoryLink = document.querySelector(`.category-tab[data-category="${category}"]`);
            if (activeCategoryLink) { activeCategoryLink.classList.add('active'); }

            applyFilters();
        }

        // --- 3. ОБЩАЯ ФУНКЦИЯ ПРИМЕНЕНИЯ ФИЛЬТРОВ ---
        function applyFilters() {
            const products = document.querySelectorAll('.product-card');

            products.forEach(product => {
                const productBrand = product.dataset.brand;
                const productCategory = product.dataset.category; 
                const productGender = product.dataset.gender;

                let matchesBrand = (currentBrandFilter === 'all' || productBrand === currentBrandFilter);
                let matchesCategory = false;
                
                if (currentCategoryFilter === 'all') {
                    matchesCategory = true;
                } else if (currentCategoryFilter === productCategory) {
                    matchesCategory = true;
                } else if (currentCategoryFilter.includes('-')) {
                    const [requiredCategory, requiredGender] = currentCategoryFilter.split('-');

                    if (productCategory === requiredCategory && productGender === requiredGender) {
                        matchesCategory = true;
                    }
                }

                if (matchesBrand && matchesCategory) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        }
        
        // --- CART FUNCTIONS (Упрощенные для shop.html) ---
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('gotyxan_cart') || '[]');
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.querySelectorAll('.cart-count').forEach(el => {
                el.textContent = count;
            });
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateCartCount();
            const categoryMenu = document.getElementById('category-menu');
            if (categoryMenu) { categoryMenu.style.display = 'none'; }
            const allProductsLink = document.querySelector('.category-tab[data-category="all"]');
            if (allProductsLink) { allProductsLink.classList.add('active'); }
        });
    </script>
</body>
</html>